/**
 * PEBBLES PUZZLES - Level Data
 *
 * Grid Legend:
 *   0 = Empty floor
 *   1 = Wall
 *   2 = Switch (pressure plate)
 *   3 = Light orb pickup
 *   4 = Hazard (drains light)
 *   5 = Portal (level exit, unlocked when all switches active)
 *
 * Level Structure:
 *   - id: Unique level identifier
 *   - name: Display name
 *   - world: Which world/chapter (1=The Box, 2=Tutorial, etc.)
 *   - difficulty: 1-5 rating
 *   - grid: 2D array of tile values
 *   - startPos: Array of {x, y} for initial Pebble positions
 *   - loreId: Optional - triggers lore dialog before level
 *   - tutorialId: Optional - triggers tutorial overlay
 *   - music: Optional - music track to play
 *   - ambience: Optional - ambient sound
 */

const LEVELS = {
  // ============================================
  // WORLD 1: AWAKENING (Tutorial Levels)
  // ============================================

  "1-1": {
    id: "1-1",
    name: "Awakening",
    world: 1,
    worldName: "The Void",
    difficulty: 1,
    loreId: "intro_1",
    tutorialId: "movement",
    grid: [
      [1,1,1,1,1,1,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,2,0,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 2, y: 3 }],
    par: { moves: 8, time: 30 }
  },

  "1-2": {
    id: "1-2",
    name: "Two Points",
    world: 1,
    worldName: "The Void",
    difficulty: 1,
    tutorialId: "switches",
    grid: [
      [1,1,1,1,1,1,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,0,2,0,0,0,0,2,0,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 4, y: 5 }, { x: 5, y: 5 }],
    par: { moves: 6, time: 20 }
  },

  "1-3": {
    id: "1-3",
    name: "Division",
    world: 1,
    worldName: "The Void",
    difficulty: 1,
    loreId: "split_intro",
    tutorialId: "split",
    grid: [
      [1,1,1,1,1,1,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,1,0,0,0,0,1],
      [1,0,2,0,1,0,0,2,0,1],
      [1,0,0,0,1,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 4, y: 5 }],
    par: { moves: 10, time: 45 }
  },

  "1-4": {
    id: "1-4",
    name: "Through Walls",
    world: 1,
    worldName: "The Void",
    difficulty: 2,
    grid: [
      [1,1,1,1,1,1,1,1,1,1],
      [1,0,0,1,0,0,0,0,0,1],
      [1,2,0,1,0,0,0,0,2,1],
      [1,0,0,1,0,0,0,0,0,1],
      [1,0,0,0,0,0,1,0,0,1],
      [1,0,0,0,0,0,1,0,0,1],
      [1,0,0,0,0,0,1,0,0,1],
      [1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 5, y: 4 }],
    par: { moves: 12, time: 60 }
  },

  "1-5": {
    id: "1-5",
    name: "Coordination",
    world: 1,
    worldName: "The Void",
    difficulty: 2,
    tutorialId: "simultaneous",
    grid: [
      [1,1,1,1,1,1,1,1,1,1],
      [1,2,0,0,0,0,0,0,2,1],
      [1,0,0,0,1,1,0,0,0,1],
      [1,0,0,0,1,1,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,1],
      [1,2,0,0,0,0,0,0,2,1],
      [1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 4, y: 4 }],
    par: { moves: 15, time: 90 }
  },

  // ============================================
  // WORLD 2: THE BOX (Main Puzzle Levels)
  // ============================================

  "2-1": {
    id: "2-1",
    name: "Anu's Light",
    world: 2,
    worldName: "The Box",
    difficulty: 2,
    loreId: "anu_intro",
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,1,0,0,1,0,0,0,1],
      [1,0,0,0,1,0,0,1,0,0,0,1],
      [1,0,2,0,0,0,0,0,0,2,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,1,0,0,1,0,0,0,1],
      [1,0,0,0,1,0,0,1,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 2, y: 2 }],
    par: { moves: 12, time: 60 }
  },

  "2-2": {
    id: "2-2",
    name: "Split Path",
    world: 2,
    worldName: "The Box",
    difficulty: 2,
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,1,0,0,1,0,0,0,1],
      [1,0,0,0,1,0,0,1,0,0,0,1],
      [1,2,0,0,1,0,0,1,0,0,2,1],
      [1,1,0,0,0,0,0,0,0,0,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 6, y: 7 }],
    par: { moves: 15, time: 75 }
  },

  "2-3": {
    id: "2-3",
    name: "Stagger",
    world: 2,
    worldName: "The Box",
    difficulty: 3,
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,1,0,0,0,0,0,0,1,0,1],
      [1,0,1,0,0,0,0,0,0,1,0,1],
      [1,2,1,0,0,1,1,0,0,1,2,1],
      [1,0,0,0,0,1,1,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 6, y: 7 }],
    par: { moves: 18, time: 90 }
  },

  "2-4": {
    id: "2-4",
    name: "Corner Dance",
    world: 2,
    worldName: "The Box",
    difficulty: 3,
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,2,0,1,0,0,0,0,1,0,2,1],
      [1,0,0,1,0,0,0,0,1,0,0,1],
      [1,1,0,0,0,0,0,0,0,0,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,0,0,0,0,0,0,0,0,1,1],
      [1,0,0,1,0,0,0,0,1,0,0,1],
      [1,2,0,1,0,0,0,0,1,0,2,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 6, y: 5 }],
    par: { moves: 20, time: 120 }
  },

  "2-5": {
    id: "2-5",
    name: "The Maze",
    world: 2,
    worldName: "The Box",
    difficulty: 4,
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,0,0,1,2,0,0,0,1,0,0,1],
      [1,0,0,1,1,1,0,1,1,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,0,1,1,1,1,0,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,1,1,1,0,0,1,1,1,0,1],
      [1,0,0,0,0,0,0,1,2,0,0,1],
      [1,0,0,1,0,0,0,1,1,1,2,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 2, y: 3 }],
    par: { moves: 25, time: 150 }
  },

  // ============================================
  // WORLD 2 CONTINUED: More Challenging
  // ============================================

  "2-6": {
    id: "2-6",
    name: "Narrow Pass",
    world: 2,
    worldName: "The Box",
    difficulty: 3,
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,2,0,0,0,0,0,0,0,0,2,1],
      [1,1,1,1,1,0,0,1,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,0,0,1,1,1,1,1],
      [1,2,0,0,0,0,0,0,0,0,2,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 5, y: 4 }],
    par: { moves: 18, time: 90 }
  },

  "2-7": {
    id: "2-7",
    name: "The Cross",
    world: 2,
    worldName: "The Box",
    difficulty: 3,
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,0,0,0,0,2,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,1,1,1,1,1,0,0,0,1],
      [1,0,0,1,0,0,0,1,0,0,0,1],
      [1,2,0,1,0,0,0,1,0,0,2,1],
      [1,0,0,1,0,0,0,1,0,0,0,1],
      [1,0,0,1,1,1,1,1,0,0,0,1],
      [1,0,0,0,0,2,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 5, y: 5 }],
    par: { moves: 22, time: 120 }
  },

  "2-8": {
    id: "2-8",
    name: "Spiral",
    world: 2,
    worldName: "The Box",
    difficulty: 4,
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,2,0,0,0,0,0,0,0,0,0,1],
      [1,0,1,1,1,1,1,1,1,0,0,1],
      [1,0,1,0,0,0,0,0,1,0,0,1],
      [1,0,1,0,1,1,0,0,1,0,0,1],
      [1,0,1,0,1,2,0,0,1,0,0,1],
      [1,0,1,0,0,0,0,0,1,0,0,1],
      [1,0,1,1,1,1,1,1,1,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,2,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 9, y: 1 }],
    par: { moves: 28, time: 150 }
  },

  "2-9": {
    id: "2-9",
    name: "Checkmate",
    world: 2,
    worldName: "The Box",
    difficulty: 4,
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,0,0,1,0,0,0,1,0,0,0,1],
      [1,2,0,1,0,2,0,1,0,2,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,0,1,0,1,0,1,0,1,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,1,0,1,0,1,0,1,0,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 5, y: 7 }],
    par: { moves: 24, time: 120 }
  },

  "2-10": {
    id: "2-10",
    name: "Promise",
    world: 2,
    worldName: "The Box",
    difficulty: 5,
    loreId: "anu_promise",
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,2,0,0,1,0,0,1,0,0,2,1],
      [1,0,0,0,1,0,0,1,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,0,0,0,0,0,0,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,1,0,0,1,0,0,0,1],
      [1,2,0,0,1,0,0,1,0,0,2,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 5, y: 5 }],
    par: { moves: 26, time: 150 }
  },

  // ============================================
  // WORLD 3: TOP HAT ROOM
  // ============================================

  "3-1": {
    id: "3-1",
    name: "First Gift",
    world: 3,
    worldName: "Top Hat Chamber",
    difficulty: 3,
    loreId: "tophat_intro",
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,1,1,1,1,1,1,0,0,1],
      [1,0,0,1,0,0,0,0,1,0,0,1],
      [1,0,0,1,0,2,2,0,1,0,0,1],
      [1,0,0,1,0,0,0,0,1,0,0,1],
      [1,0,0,1,1,0,0,1,1,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 5, y: 8 }],
    par: { moves: 16, time: 90 }
  },

  "3-2": {
    id: "3-2",
    name: "Dual Chambers",
    world: 3,
    worldName: "Top Hat Chamber",
    difficulty: 3,
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,2,0,0,1,0,0,1,0,0,2,1],
      [1,0,0,0,1,0,0,1,0,0,0,1],
      [1,0,0,0,1,0,0,1,0,0,0,1],
      [1,1,1,0,1,0,0,1,0,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 5, y: 7 }],
    par: { moves: 18, time: 100 }
  },

  // ============================================
  // WORLD 4: MONOCLE ROOM
  // ============================================

  "4-1": {
    id: "4-1",
    name: "Clear Sight",
    world: 4,
    worldName: "Monocle Chamber",
    difficulty: 3,
    loreId: "monocle_intro",
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,1,0,0,0,0,0,0,1,0,1],
      [1,0,0,0,0,1,1,0,0,0,0,1],
      [1,2,0,0,0,1,1,0,0,0,2,1],
      [1,0,0,0,0,1,1,0,0,0,0,1],
      [1,0,1,0,0,0,0,0,0,1,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 5, y: 8 }],
    par: { moves: 16, time: 90 }
  },

  // ============================================
  // WORLD 5: CAPE ROOM
  // ============================================

  "5-1": {
    id: "5-1",
    name: "Rising",
    world: 5,
    worldName: "Cape Chamber",
    difficulty: 4,
    loreId: "cape_intro",
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,2,0,0,0,0,0,0,0,0,2,1],
      [1,1,1,1,0,0,0,0,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,0,0,0,0,1,1,1,1],
      [1,2,0,0,0,0,0,0,0,0,2,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 5, y: 4 }],
    par: { moves: 20, time: 120 }
  },

  // ============================================
  // WORLD 6: BLING ROOM
  // ============================================

  "6-1": {
    id: "6-1",
    name: "Brilliance",
    world: 6,
    worldName: "Bling Chamber",
    difficulty: 4,
    loreId: "bling_intro",
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,0,0,0,0,2,0,0,0,0,0,1],
      [1,0,1,1,0,0,0,1,1,0,0,1],
      [1,0,1,0,0,0,0,0,1,0,0,1],
      [1,2,0,0,0,0,0,0,0,0,2,1],
      [1,0,1,0,0,0,0,0,1,0,0,1],
      [1,0,1,1,0,0,0,1,1,0,0,1],
      [1,0,0,0,0,2,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 5, y: 4 }],
    par: { moves: 22, time: 130 }
  },

  // ============================================
  // WORLD 7: THE PORTAL (Final Levels)
  // ============================================

  "7-1": {
    id: "7-1",
    name: "The Choice",
    world: 7,
    worldName: "Portal Chamber",
    difficulty: 5,
    loreId: "final_choice",
    grid: [
      [1,1,1,1,1,1,1,1,1,1,1,1],
      [1,2,0,0,1,0,0,1,0,0,2,1],
      [1,0,0,0,1,0,0,1,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,0,0,0,0,0,0,0,0,1,1],
      [1,1,0,0,0,5,0,0,0,0,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,1,0,0,1,0,0,0,1],
      [1,2,0,0,1,0,0,1,0,0,2,1],
      [1,1,1,1,1,1,1,1,1,1,1,1],
    ],
    startPos: [{ x: 5, y: 5 }],
    par: { moves: 30, time: 180 }
  }
};

// Level order for progression
const LEVEL_ORDER = [
  "1-1", "1-2", "1-3", "1-4", "1-5",
  "2-1", "2-2", "2-3", "2-4", "2-5", "2-6", "2-7", "2-8", "2-9", "2-10",
  "3-1", "3-2",
  "4-1",
  "5-1",
  "6-1",
  "7-1"
];

// World metadata
const WORLDS = {
  1: { name: "The Void", description: "Awakening in darkness", color: 0x1a1a2e, unlocked: true },
  2: { name: "The Box", description: "Anu's domain", color: 0x16213e, unlocked: false },
  3: { name: "Top Hat Chamber", description: "Room of chance", color: 0x4a1942, unlocked: false },
  4: { name: "Monocle Chamber", description: "Room of sight", color: 0x1a4a3a, unlocked: false },
  5: { name: "Cape Chamber", description: "Room of flight", color: 0x4a3a1a, unlocked: false },
  6: { name: "Bling Chamber", description: "Room of light", color: 0x3a1a4a, unlocked: false },
  7: { name: "Portal Chamber", description: "The final choice", color: 0x0a2a4a, unlocked: false }
};
